Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};(function(b){var a={series:{direction:{show:true,lineWidth:1,color:"rgb(100, 60, 60)",fillColor:"rgb(100, 60, 60)",arrawLength:8,angleType:"degree",openAngle:30,zeroShow:false,threshold:0.000001,angleStart:0}}};function c(f){function d(h,g){b.each(h.getData(),function(j,i){e(h,g,i)})}function e(v,u,p){var D=v.getOptions().series.direction;p=b.extend(true,{},D,p,p.direction);if(!p.show||p.data.length<1||p.data[0].length<3){return}var z,o,n;var w=p.data;var h=-10000;var g=10000;for(z=0;z<w.length;z++){if(w[z][1]>h){h=w[z][1]}if(w[z][1]<g){g=w[z][1]}}var l=p.arrawLength;var t=(p.arrawLength/(h-g));var q=v.getPlotOffset();cY=q.top+20;cX=q.left+20;u.beginPath();u.moveTo(cX,cY);u.lineTo(cX+10,cY);u.lineTo(cX+5,cY-10);u.lineTo(cX,cY);u.closePath();u.fillStyle="#505050";u.strokeStyle="#505050";u.fill();u.stroke();u.moveTo(cX+5,cY);u.lineTo(cX+5,cY+8);u.stroke();placeH=v.getPlaceholder();placeH.append("<div style='position:absolute;left:"+(cX+1)+"px;top:"+(cY+7)+"px;color:#505050;font-size:smaller'>N</div>");for(z=0;z<w.length;z++){if(w[z].length<3||w[z][1]===null){continue}o=w[z][0];n=w[z][1];l=t*(n-g);var m=v.pointOffset({x:o,y:g,xaxis:p.xaxis,yaxis:p.yaxis});o=m.left;if(o<q.left||o>(v.width()+q.left)){continue}n=m.top+35;if(!p.zeroShow&&(Math.abs(w[z][1])<p.threshold)){u.beginPath();u.strokeStyle=p.color;u.lineWidth=p.lineWidth||1;u.arc(o,n,l,0,p.shadow?Math.PI:Math.PI*2,false);u.closePath();continue}if(p.angleType=="degree"){direct=((90-w[z][2])+p.angleStart)*Math.PI/180}else{direct=Math.PI/2-w[z][2]+p.angleStart}var G=0;var F=o+l*Math.cos(direct);var E=n-l*Math.sin(direct);var k=o-l*Math.cos(direct)*G;var j=n+l*Math.sin(direct)*G;var C=(p.openAngle*Math.PI/180)%90;var B=F-(l*0.15)/Math.cos(C)*Math.cos(direct+C);var A=E+(l*0.15)/Math.cos(C)*Math.sin(direct+C);var s=F-(l*0.15)/Math.cos(C)*Math.cos(direct-C);var r=E+(l*0.15)/Math.cos(C)*Math.sin(direct-C);u.beginPath();u.strokeStyle=p.color;u.lineWidth=0.5;u.moveTo(k,j);u.lineTo(F,E);u.lineTo(B,A);u.moveTo(F,E);u.lineTo(s,r);u.stroke()}}f.hooks.draw.push(d)}b.plot.plugins.push({init:c,options:a,name:"direction",version:"1.4.2"})})(jQuery);